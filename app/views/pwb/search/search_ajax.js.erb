$('#inmo-search-results').html("<%= j (render 'search_results') %>");

// Update map markers if map exists
var markers = <%= @map_markers.to_json.html_safe %>;
if (typeof INMOAPP !== 'undefined' && typeof INMOAPP.updateMapMarkers === 'function') {
  INMOAPP.updateMapMarkers(markers);
}

// Apply UI enhancements
if (typeof INMOAPP !== 'undefined') {
  if (typeof INMOAPP.truncateDescriptions === 'function') {
    INMOAPP.truncateDescriptions();
  }
  if (typeof INMOAPP.sortSearchResults === 'function') {
    INMOAPP.sortSearchResults();
  }
}
