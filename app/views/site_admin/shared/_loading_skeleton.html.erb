<%#
  Loading Skeleton Component

  Displays animated placeholder content while data is loading.

  Usage:
    render 'site_admin/shared/loading_skeleton', type: 'table', rows: 5
    render 'site_admin/shared/loading_skeleton', type: 'card', count: 3
    render 'site_admin/shared/loading_skeleton', type: 'stats'

  Options:
    - type: 'table', 'card', 'stats', 'list'
    - rows/count: Number of placeholder items
%>
<% skeleton_type = local_assigns[:type] || 'table' %>
<% item_count = local_assigns[:rows] || local_assigns[:count] || 5 %>

<div class="animate-pulse">
  <% case skeleton_type %>
  <% when 'table' %>
    <div class="bg-white rounded-lg shadow overflow-hidden">
      <!-- Table Header -->
      <div class="bg-gray-50 px-6 py-3 border-b border-gray-200">
        <div class="flex space-x-4">
          <div class="h-4 bg-gray-200 rounded w-1/4"></div>
          <div class="h-4 bg-gray-200 rounded w-1/6"></div>
          <div class="h-4 bg-gray-200 rounded w-1/6"></div>
          <div class="h-4 bg-gray-200 rounded w-1/6"></div>
        </div>
      </div>
      <!-- Table Rows -->
      <% item_count.times do %>
        <div class="px-6 py-4 border-b border-gray-100">
          <div class="flex items-center space-x-4">
            <div class="w-10 h-10 bg-gray-200 rounded-lg"></div>
            <div class="flex-1 space-y-2">
              <div class="h-4 bg-gray-200 rounded w-3/4"></div>
              <div class="h-3 bg-gray-100 rounded w-1/2"></div>
            </div>
            <div class="h-4 bg-gray-200 rounded w-20"></div>
            <div class="h-4 bg-gray-200 rounded w-16"></div>
          </div>
        </div>
      <% end %>
    </div>

  <% when 'card' %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <% item_count.times do %>
        <div class="bg-white rounded-lg shadow p-6">
          <div class="flex items-center space-x-4 mb-4">
            <div class="w-12 h-12 bg-gray-200 rounded-full"></div>
            <div class="flex-1 space-y-2">
              <div class="h-4 bg-gray-200 rounded w-3/4"></div>
              <div class="h-3 bg-gray-100 rounded w-1/2"></div>
            </div>
          </div>
          <div class="space-y-3">
            <div class="h-3 bg-gray-200 rounded"></div>
            <div class="h-3 bg-gray-200 rounded w-5/6"></div>
            <div class="h-3 bg-gray-200 rounded w-4/6"></div>
          </div>
          <div class="mt-4 pt-4 border-t border-gray-100">
            <div class="h-8 bg-gray-200 rounded w-24"></div>
          </div>
        </div>
      <% end %>
    </div>

  <% when 'stats' %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      <% 4.times do %>
        <div class="bg-white rounded-lg shadow p-6">
          <div class="flex items-center justify-between mb-4">
            <div class="h-4 bg-gray-200 rounded w-24"></div>
            <div class="w-10 h-10 bg-gray-200 rounded-lg"></div>
          </div>
          <div class="h-8 bg-gray-200 rounded w-20 mb-2"></div>
          <div class="h-3 bg-gray-100 rounded w-32"></div>
        </div>
      <% end %>
    </div>

  <% when 'list' %>
    <div class="bg-white rounded-lg shadow divide-y divide-gray-100">
      <% item_count.times do %>
        <div class="px-6 py-4">
          <div class="flex items-center space-x-4">
            <div class="w-8 h-8 bg-gray-200 rounded-full"></div>
            <div class="flex-1 space-y-2">
              <div class="h-4 bg-gray-200 rounded w-2/3"></div>
              <div class="h-3 bg-gray-100 rounded w-1/3"></div>
            </div>
            <div class="h-6 bg-gray-200 rounded w-16"></div>
          </div>
        </div>
      <% end %>
    </div>

  <% else %>
    <!-- Generic content skeleton -->
    <div class="space-y-4">
      <div class="h-6 bg-gray-200 rounded w-1/3"></div>
      <div class="space-y-2">
        <div class="h-4 bg-gray-200 rounded"></div>
        <div class="h-4 bg-gray-200 rounded w-5/6"></div>
        <div class="h-4 bg-gray-200 rounded w-4/6"></div>
      </div>
    </div>
  <% end %>
</div>
