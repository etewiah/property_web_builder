<!-- Bristol Theme Footer - Semantic HTML -->
<footer class="site-footer">
  <div class="footer-container">
    <div class="footer-grid">
      <!-- Company Info -->
      <div class="footer-company-info">
        <h4 class="footer-company-name"><%= company_display_name %></h4>
        <ul class="footer-contact-list">
          <% if @current_agency.phone_number_primary.present? %>
            <li class="footer-contact-item">
              <%= icon(:phone, class: "footer-icon") %>
              <a href="tel:<%= @current_agency.phone_number_primary %>" class="footer-link">
                <%= @current_agency.phone_number_primary %>
              </a>
            </li>
          <% end %>
          <% if @current_agency.email_primary.present? %>
            <li class="footer-contact-item">
              <%= icon(:email, class: "footer-icon") %>
              <a href="mailto:<%= @current_agency.email_primary %>" class="footer-link">
                <%= @current_agency.email_primary %>
              </a>
            </li>
          <% end %>
        </ul>
      </div>

      <!-- Social Media -->
      <nav class="footer-social-wrapper" aria-label="Social media links">
        <div class="footer-social-icons">
          <% if @current_website.respond_to?(:social_media_facebook) && @current_website.social_media_facebook.present? %>
            <a href="<%= @current_website.social_media_facebook %>" target="_blank" rel="noopener noreferrer" class="social-icon-link" aria-label="Follow us on Facebook">
              <%= brand_icon(:facebook, size: 24) %>
            </a>
          <% end %>
          <% if @current_website.respond_to?(:social_media_twitter) && @current_website.social_media_twitter.present? %>
            <a href="<%= @current_website.social_media_twitter %>" target="_blank" rel="noopener noreferrer" class="social-icon-link" aria-label="Follow us on Twitter">
              <%= brand_icon(:x, size: 24) %>
            </a>
          <% end %>
          <% if @current_website.respond_to?(:social_media_instagram) && @current_website.social_media_instagram.present? %>
            <a href="<%= @current_website.social_media_instagram %>" target="_blank" rel="noopener noreferrer" class="social-icon-link" aria-label="Follow us on Instagram">
              <%= brand_icon(:instagram, size: 24) %>
            </a>
          <% end %>
          <% if @current_website.respond_to?(:social_media_linkedin) && @current_website.social_media_linkedin.present? %>
            <a href="<%= @current_website.social_media_linkedin %>" target="_blank" rel="noopener noreferrer" class="social-icon-link" aria-label="Connect with us on LinkedIn">
              <%= brand_icon(:linkedin, size: 24) %>
            </a>
          <% end %>
          <% if @current_website.respond_to?(:social_media_youtube) && @current_website.social_media_youtube.present? %>
            <a href="<%= @current_website.social_media_youtube %>" target="_blank" rel="noopener noreferrer" class="social-icon-link" aria-label="Subscribe to our YouTube channel">
              <%= brand_icon(:youtube, size: 24) %>
            </a>
          <% end %>
          <% if @current_website.respond_to?(:social_media_whatsapp) && @current_website.social_media_whatsapp.present? %>
            <a href="<%= @current_website.social_media_whatsapp %>" target="_blank" rel="noopener noreferrer" class="social-icon-link" aria-label="Contact us on WhatsApp">
              <%= brand_icon(:whatsapp, size: 24) %>
            </a>
          <% end %>
        </div>
      </nav>

      <!-- Extra Content -->
      <div class="footer-extra-content">
        <div class="footer-extra-html">
          <% if @footer_content.present? %>
            <%== @footer_content.raw %>
          <% end %>
        </div>
      </div>
    </div>

    <!-- Divider -->
    <hr class="footer-divider">

    <!-- Bottom Bar -->
    <div class="footer-bottom-bar">
      <div class="footer-links">
        <% @current_website.links.ordered_visible_footer.each do |page| %>
          <% target_path = nil %>
          <% begin %>
            <% if page.link_path.present? %>
              <% target_path = main_app.send(page.link_path, page.link_path_params, { locale: locale }) %>
            <% elsif page.link_url.present? %>
              <% target_path = page.link_url %>
            <% end %>
          <% rescue StandardError %>
          <% end %>
          <% if target_path %>
            <%= link_to page.link_title, target_path, class: "footer-bottom-link" %>
          <% end %>
        <% end %>
        <%= link_to I18n.t("signIn"), "/pwb_login", class: "footer-bottom-link" %>
      </div>
      <p class="footer-copyright">
        Powered by <a href="https://www.propertywebbuilder.com" class="footer-brand-link">PropertyWebBuilder</a>
      </p>
    </div>
  </div>
</footer>

