---
openapi: 3.0.1
info:
  title: API Public V1
  version: v1
paths:
  "/api_public/v1/properties/{id}":
    get:
      summary: Retrieves a property
      tags:
      - Properties
      parameters:
      - name: id
        in: path
        required: true
        description: Property ID (UUID) or slug.
        schema:
          type: string
      - name: locale
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: property found
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  reference:
                    type: string
                  title:
                    type: string
                    nullable: true
                  description:
                    type: string
                    nullable: true
                  prop_photos:
                    type: array
                    items:
                      type: object
                      properties:
                        image:
                          type: string
                  price_sale_current_cents:
                    type: integer
                  price_rental_monthly_current_cents:
                    type: integer
                  currency:
                    type: string
                  area_unit:
                    type: string
                  count_bedrooms:
                    type: integer
                  count_bathrooms:
                    type: number
                  count_garages:
                    type: integer
                  for_sale:
                    type: boolean
                  for_rent:
                    type: boolean
        '404':
          description: property not found
  "/api_public/v1/properties":
    get:
      summary: Retrieves properties
      tags:
      - Properties
      parameters:
      - name: locale
        in: query
        required: false
        description: Locale to use for localized fields.
        schema:
          type: string
      - name: page
        in: query
        required: false
        description: Page number (default 1).
        schema:
          type: integer
          default: 1
      - name: per_page
        in: query
        required: false
        description: Items per page (default 12).
        schema:
          type: integer
          default: 12
      - name: limit
        in: query
        required: false
        description: Hard cap on total results before pagination.
        schema:
          type: integer
      - name: sale_or_rental
        in: query
        required: false
        schema:
          type: string
      - name: currency
        in: query
        required: false
        schema:
          type: string
      - name: for_sale_price_from
        in: query
        required: false
        schema:
          type: string
      - name: for_sale_price_till
        in: query
        required: false
        schema:
          type: string
      - name: for_rent_price_from
        in: query
        required: false
        schema:
          type: string
      - name: for_rent_price_till
        in: query
        required: false
        schema:
          type: string
      - name: bedrooms_from
        in: query
        required: false
        schema:
          type: string
      - name: bathrooms_from
        in: query
        required: false
        schema:
          type: string
      - name: property_type
        in: query
        required: false
        schema:
          type: string
      - name: sort_by
        in: query
        required: false
        description: Sort order (price_asc, price_desc, newest, oldest).
        schema:
          type: string
      - name: sort
        in: query
        required: false
        deprecated: true
        description: Deprecated alias for sort_by (price-asc, price-desc, newest, oldest).
        schema:
          type: string
      - name: featured
        in: query
        required: false
        description: Filter featured/highlighted properties.
        schema:
          type: boolean
      - name: highlighted
        in: query
        required: false
        deprecated: true
        description: Deprecated alias for featured.
        schema:
          type: boolean
      responses:
        '200':
          description: properties found
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        slug:
                          type: string
                        reference:
                          type: string
                        title:
                          type: string
                          nullable: true
                        price_sale_current_cents:
                          type: integer
                        price_rental_monthly_current_cents:
                          type: integer
                        currency:
                          type: string
                        prop_photos:
                          type: array
                          items:
                            type: object
                            properties:
                              image:
                                type: string
                  map_markers:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        slug:
                          type: string
                        lat:
                          type: number
                          format: float
                        lng:
                          type: number
                          format: float
                        title:
                          type: string
                        price:
                          type: string
                        image:
                          type: string
                          nullable: true
                        url:
                          type: string
                  meta:
                    type: object
                    properties:
                      total:
                        type: integer
                      page:
                        type: integer
                      per_page:
                        type: integer
                      total_pages:
                        type: integer
  "/api_public/v1/pages/{id}":
    get:
      summary: Retrieves a page
      tags:
      - Pages
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: page found
          content:
            application/json:
              schema:
                type: object
                properties:
                  slug:
                    type: string
                  link_path:
                    type: string
                  visible:
                    type: boolean
                  page_title:
                    type: string
                  link_title:
                    type: string
                  raw_html:
                    type: string
                  show_in_top_nav:
                    type: boolean
                  show_in_footer:
                    type: boolean
                  page_contents:
                    type: array
                    items:
                      type: object
        '404':
          description: page not found
  "/api_public/v1/pages/by_slug/{slug}":
    get:
      summary: Retrieves a page by slug
      tags:
      - Pages
      parameters:
      - name: slug
        in: path
        required: true
        schema:
          type: string
      - name: locale
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: page found
          content:
            application/json:
              schema:
                type: object
                properties:
                  slug:
                    type: string
                  link_path:
                    type: string
                  visible:
                    type: boolean
                  page_title:
                    type: string
                  link_title:
                    type: string
                  raw_html:
                    type: string
                  show_in_top_nav:
                    type: boolean
                  show_in_footer:
                    type: boolean
                  page_contents:
                    type: array
                    items:
                      type: object
        '404':
          description: page not found
  "/api_public/v1/translations":
    get:
      summary: Retrieves translations
      tags:
      - Translations
      parameters:
      - name: locale
        in: query
        required: true
        schema:
          type: string
      responses:
        '200':
          description: translations found
          content:
            application/json:
              schema:
                type: object
                properties:
                  locale:
                    type: string
                  result:
                    type: object
  "/api_public/v1/links":
    get:
      summary: Retrieves links
      tags:
      - Links
      parameters:
      - name: position
        in: query
        required: false
        description: Link placement (e.g. top_nav, footer).
        schema:
          type: string
      - name: placement
        in: query
        required: false
        deprecated: true
        description: Deprecated alias for position.
        schema:
          type: string
      - name: locale
        in: query
        required: false
        schema:
          type: string
      - name: visible_only
        in: query
        required: false
        schema:
          type: boolean
      responses:
        '200':
          description: links found
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        slug:
                          type: string
                        title:
                          type: string
                        url:
                          type: string
                        position:
                          type: string
                        order:
                          type: integer
                        visible:
                          type: boolean
                        external:
                          type: boolean
  "/api_public/v1/site_details":
    get:
      summary: Retrieves site details
      tags:
      - Site Details
      parameters:
      - name: locale
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: site details found
          content:
            application/json:
              schema:
                type: object
                properties:
                  company_display_name:
                    type: string
                  theme_name:
                    type: string
                  default_currency:
                    type: string
                  supported_locales:
                    type: array
                    items:
                      type: string
                  social_media:
                    type: object
                  agency:
                    type: object
                  top_nav_display_links:
                    type: array
                    items:
                      type: object
                  footer_display_links:
                    type: array
                    items:
                      type: object
  "/api_public/v1/select_values":
    get:
      summary: Retrieves select values
      tags:
      - Select Values
      parameters:
      - name: field_names
        in: query
        required: false
        description: Comma separated list of field names
        schema:
          type: string
      responses:
        '200':
          description: select values found
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: array
                  items:
                    type: object
                    properties:
                      value:
                        type: string
                      label:
                        type: string
  "/api_public/v1/theme":
    get:
      summary: Retrieves theme configuration
      tags:
      - Theme
      parameters:
      - name: locale
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: theme found
          content:
            application/json:
              schema:
                type: object
                properties:
                  theme:
                    type: object
                    properties:
                      name:
                        type: string
                      palette_id:
                        type: string
                        nullable: true
                      palette_mode:
                        type: string
                      colors:
                        type: object
                        additionalProperties:
                          type: string
                      fonts:
                        type: object
                        properties:
                          heading:
                            type: string
                          body:
                            type: string
                      border_radius:
                        type: object
                        properties:
                          sm:
                            type: string
                          md:
                            type: string
                          lg:
                            type: string
                          xl:
                            type: string
                      dark_mode:
                        type: object
                        properties:
                          enabled:
                            type: boolean
                          setting:
                            type: string
                          force_dark:
                            type: boolean
                          auto:
                            type: boolean
                      css_variables:
                        type: string
                      custom_css:
                        type: string
                        nullable: true
  "/api_public/v1/search/config":
    get:
      summary: Retrieves search configuration
      tags:
      - Search Config
      parameters:
      - name: locale
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: search config found
          content:
            application/json:
              schema:
                type: object
                properties:
                  property_types:
                    type: array
                    items:
                      type: object
                      properties:
                        key:
                          type: string
                        label:
                          type: string
                        count:
                          type: integer
                  price_options:
                    type: object
                    properties:
                      sale:
                        type: object
                        properties:
                          from:
                            type: array
                            items:
                              type: string
                          to:
                            type: array
                            items:
                              type: string
                      rent:
                        type: object
                        properties:
                          from:
                            type: array
                            items:
                              type: string
                          to:
                            type: array
                            items:
                              type: string
                  features:
                    type: array
                    items:
                      type: object
                      properties:
                        key:
                          type: string
                        label:
                          type: string
                  bedrooms:
                    type: array
                    items:
                      type: integer
                  bathrooms:
                    type: array
                    items:
                      type: integer
                  sort_options:
                    type: array
                    items:
                      type: object
                      properties:
                        value:
                          type: string
                        label:
                          type: string
                  area_unit:
                    type: string
                  currency:
                    type: string
  "/api_public/v1/testimonials":
    get:
      summary: Retrieves testimonials
      tags:
      - Testimonials
      parameters:
      - name: locale
        in: query
        required: false
        schema:
          type: string
      - name: limit
        in: query
        required: false
        schema:
          type: integer
      - name: featured_only
        in: query
        required: false
        schema:
          type: boolean
      responses:
        '200':
          description: testimonials found
          content:
            application/json:
              schema:
                type: object
                properties:
                  testimonials:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        quote:
                          type: string
                        author_name:
                          type: string
                        author_role:
                          type: string
                          nullable: true
                        author_photo:
                          type: string
                          nullable: true
                        rating:
                          type: integer
                          nullable: true
                        position:
                          type: integer
  "/api_public/v1/enquiries":
    post:
      summary: Creates a property enquiry
      tags:
      - Enquiries
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                enquiry:
                  type: object
                  properties:
                    name:
                      type: string
                    email:
                      type: string
                    phone:
                      type: string
                    message:
                      type: string
                    property_id:
                      type: string
                locale:
                  type: string
      responses:
        '201':
          description: enquiry created
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      contact_id:
                        type: integer
                      message_id:
                        type: integer
  "/api_public/v1/contact":
    post:
      summary: Creates a contact enquiry
      tags:
      - Contact
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                contact:
                  type: object
                  properties:
                    name:
                      type: string
                    email:
                      type: string
                    phone:
                      type: string
                    subject:
                      type: string
                    message:
                      type: string
                locale:
                  type: string
      responses:
        '201':
          description: contact created
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                  data:
                    type: object
                    properties:
                      contact_id:
                        type: integer
                      message_id:
                        type: integer
  "/api_public/v1/auth/firebase":
    post:
      summary: Authenticates via Firebase token
      tags:
      - Auth
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                verification_token:
                  type: string
      responses:
        '200':
          description: authenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  user:
                    type: object
                    properties:
                      id:
                        type: integer
                      email:
                        type: string
                      firebase_uid:
                        type: string
                  message:
                    type: string
        '401':
          description: invalid token
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
        '400':
          description: missing token
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
  "/api_public/v1/widgets/{widget_key}":
    get:
      summary: Retrieves widget configuration and properties
      tags:
      - Widgets
      parameters:
      - name: widget_key
        in: path
        required: true
        schema:
          type: string
      - name: locale
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: widget found
          content:
            application/json:
              schema:
                type: object
                properties:
                  config:
                    type: object
                    properties:
                      widget_key:
                        type: string
                      layout:
                        type: string
                      columns:
                        type: integer
                      max_properties:
                        type: integer
                      show_search:
                        type: boolean
                      show_filters:
                        type: boolean
                      show_pagination:
                        type: boolean
                      listing_type:
                        type: string
                        nullable: true
                      theme:
                        type: object
                      visible_fields:
                        type: object
                  properties:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        title:
                          type: string
                          nullable: true
                        url:
                          type: string
                        photo_url:
                          type: string
                          nullable: true
                        photo_count:
                          type: integer
                        price:
                          type: string
                          nullable: true
                        price_raw:
                          type: integer
                          nullable: true
                        currency:
                          type: string
                          nullable: true
                        bedrooms:
                          type: integer
                          nullable: true
                        bathrooms:
                          type: number
                          nullable: true
                        area:
                          type: number
                          nullable: true
                        area_unit:
                          type: string
                          nullable: true
                        location:
                          type: string
                          nullable: true
                        reference:
                          type: string
                          nullable: true
                        property_type:
                          type: string
                          nullable: true
                        for_sale:
                          type: boolean
                        for_rent:
                          type: boolean
                        highlighted:
                          type: boolean
                  total_count:
                    type: integer
                  website:
                    type: object
                    properties:
                      name:
                        type: string
                      currency:
                        type: string
                      area_unit:
                        type: string
  "/api_public/v1/widgets/{widget_key}/properties":
    get:
      summary: Retrieves widget properties
      tags:
      - Widgets
      parameters:
      - name: widget_key
        in: path
        required: true
        schema:
          type: string
      - name: page
        in: query
        required: false
        schema:
          type: integer
      - name: locale
        in: query
        required: false
        schema:
          type: string
      responses:
        '200':
          description: properties found
          content:
            application/json:
              schema:
                type: object
                properties:
                  properties:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        title:
                          type: string
                          nullable: true
                        url:
                          type: string
                        photo_url:
                          type: string
                          nullable: true
                        photo_count:
                          type: integer
                        price:
                          type: string
                          nullable: true
                        price_raw:
                          type: integer
                          nullable: true
                        currency:
                          type: string
                          nullable: true
                        bedrooms:
                          type: integer
                          nullable: true
                        bathrooms:
                          type: number
                          nullable: true
                        area:
                          type: number
                          nullable: true
                        area_unit:
                          type: string
                          nullable: true
                        location:
                          type: string
                          nullable: true
                        reference:
                          type: string
                          nullable: true
                        property_type:
                          type: string
                          nullable: true
                        for_sale:
                          type: boolean
                        for_rent:
                          type: boolean
                        highlighted:
                          type: boolean
                  pagination:
                    type: object
                    properties:
                      current_page:
                        type: integer
                      per_page:
                        type: integer
                      total_count:
                        type: integer
                      total_pages:
                        type: integer
  "/api_public/v1/widgets/{widget_key}/impression":
    post:
      summary: Tracks widget impression
      tags:
      - Widgets
      parameters:
      - name: widget_key
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: impression tracked
  "/api_public/v1/widgets/{widget_key}/click":
    post:
      summary: Tracks widget click
      tags:
      - Widgets
      parameters:
      - name: widget_key
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: click tracked
servers:
- url: https://{defaultHost}
  variables:
    defaultHost:
      default: www.example.com
